<div class="modus-panel panel-lg h-100 shadow">
  <div class="panel-header">
    <h4>Content Layers</h4>
  </div>
  <div class="panel-body overflow-auto">
    <div class="accordion thead-light" id="contentLayer" *ngIf="license">
      <div class="accordion-item">
        <div class="accordion-header">
          <button
            class="accordion-button"
            type="button"
            data-bs-target="#codeCollapseOne"
            [attr.aria-expanded]="activeAccordionIndex === 0 ? 'true' : 'false'"
            aria-controls="codeCollapseOne"
            (click)="license.traffic ? openLayer(0) : null"
            (keyup)="license.traffic ? openLayer(0) : null"
            [ngClass]="{
              unlicensed: !license.traffic,
              collapsed: activeAccordionIndex !== 0,
            }">
            <h4
              [ngClass]="{ disabled: !license.traffic }"
              class="mb-0 accordion-title"
              id="collapsible-group-item-1">
              Traffic
            </h4>
            <div class="supporting-label">
              <app-tooltip [showTooltip]="!license.traffic"></app-tooltip>
            </div>
          </button>
        </div>
        <div
          id="codeCollapseOne"
          class="accordion-collapse collapse bg-gray-light"
          [ngClass]="{ show: license.traffic && activeAccordionIndex === 0 }"
          aria-labelledby="accordionHeadingOne"
          data-bs-parent="#contentLayer">
          <div class="accordion-body">
            <ul>
              <li>
                Indicates the flow of traffic based on 4 congestion levels.
              </li>
              <li>Visible at zoom level 9 and greater.</li>
            </ul>
            <div class="panel-header bg-transparent mb-1">
              <h5>Traffic Key</h5>
            </div>
            <svg
              class="bi pe-none me-2"
              width="18"
              height="18"
              style="background: green"></svg>
            No/Little Traffic<br />
            <svg
              class="bi pe-none me-2"
              width="18"
              height="18"
              style="background: orange"></svg>
            Light Traffic<br />
            <svg
              class="bi pe-none me-2"
              width="18"
              height="18"
              style="background: red"></svg>
            Heavy Traffic<br />
            <svg
              class="bi pe-none me-2"
              width="18"
              height="18"
              style="background: black"></svg>
            Road Closed
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <div class="accordion-header">
          <button
            class="accordion-button"
            id="accordionHeadingTwo"
            [attr.aria-expanded]="activeAccordionIndex === 1 ? 'true' : 'false'"
            aria-controls="codeCollapseTwo"
            data-bs-target="#codeCollapseTwo"
            (click)="license.weatherRadar && openLayer(1)"
            (keyup)="license.weatherRadar && openLayer(1)"
            [ngClass]="{
              unlicensed: !license.weatherRadar,
              collapsed: activeAccordionIndex !== 1,
            }"
            tabindex="0">
            <h4
              [ngClass]="{ disabled: !license.weatherRadar }"
              class="mb-0 accordion-title"
              id="collapsible-group-item-2">
              Weather Radar
            </h4>
            <div class="supporting-label">
              <app-tooltip [showTooltip]="!license.weatherRadar"></app-tooltip>
            </div>
          </button>
        </div>
        <div
          id="codeCollapseTwo"
          class="collapse bg-gray-light"
          [ngClass]="{ show: activeAccordionIndex === 1 }"
          aria-labelledby="accordionHeadingTwo"
          data-bs-parent="#contentLayer">
          <div class="accordion-body">
            <ul>
              <li>Displays weather radar overlay on map.</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="accordion-item" *ngIf="isNA">
        <div class="accordion-header">
          <button
            class="accordion-button"
            id="accordionHeadingThree"
            data-toggle="collapse"
            aria-controls="codeCollapseThree"
            role="button"
            [ngClass]="{
              unlicensed: !(isNA && license.weatherAlerts),
              collapsed: activeAccordionIndex !== 2,
            }"
            (click)="isNA && license.weatherAlerts && openLayer(2)"
            (keyup)="isNA && license.weatherAlerts && openLayer(2)"
            tabindex="0">
            <h4
              [ngClass]="{ disabled: !(isNA && license.weatherAlerts) }"
              class="mb-0 accordion-title"
              id="collapsible-group-item-3">
              Weather Alerts
            </h4>

            <div class="supporting-label">
              <app-tooltip
                [showTooltip]="isNA && !license.weatherAlerts"></app-tooltip>
            </div>
          </button>
        </div>
        <div
          id="codeCollapseThree"
          class="collapse bg-gray-light"
          [ngClass]="{ show: activeAccordionIndex === 2 }"
          aria-labelledby="accordionHeadingThree"
          data-bs-parent="#contentLayer">
          <div class="accordion-body">
            <ul>
              <li>
                Displays weather alerts for various weather events only in North
                America.
              </li>
              <li>
                Can add click event to layer to display event information.
              </li>
              <li>
                Alert Filter Control can toggle visibility of different alert
                severity, urgency and certainty.
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="accordion-item" *ngIf="isNA">
        <div class="accordion-header">
          <button
            class="accordion-button"
            id="accordionHeadingFour"
            [attr.aria-expanded]="activeAccordionIndex === 3 ? 'true' : 'false'"
            aria-controls="codeCollapseFour"
            role="button"
            [ngClass]="{
              unlicensed: !(isNA && license.roadSurface),
              collapsed: activeAccordionIndex !== 3,
            }"
            (click)="isNA && license.roadSurface && openLayer(3)"
            (keyup)="isNA && license.roadSurface && openLayer(3)"
            tabindex="0">
            <h4
              [ngClass]="{ disabled: !(isNA && license.roadSurface) }"
              class="mb-0 accordion-title"
              id="collapsible-group-item-4">
              Road Surface
            </h4>
            <div class="supporting-label">
              <app-tooltip
                [showTooltip]="isNA && !license.roadSurface"></app-tooltip>
            </div>
          </button>
        </div>
        <div
          id="codeCollapseFour"
          class="collapse bg-gray-light"
          [ngClass]="{ show: activeAccordionIndex === 3 }"
          aria-labelledby="accordionHeadingFour"
          data-bs-parent="#contentLayer">
          <div class="accordion-body">
            <ul>
              <li>Displays road surface condition for North America.</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="accordion-item" *ngIf="isNA">
        <div class="accordion-header">
          <button
            class="accordion-button"
            id="accordionHeadingFive"
            [attr.aria-expanded]="activeAccordionIndex === 4 ? 'true' : 'false'"
            aria-controls="codeCollapseFive"
            role="button"
            (click)="openLayer(4)"
            (keyup)="openLayer(4)"
            [ngClass]="{ collapsed: activeAccordionIndex !== 4 }"
            tabindex="0">
            <h4 class="mb-0 accordion-title" id="collapsible-group-item-5">
              Places
            </h4>
          </button>
        </div>
        <div
          id="codeCollapseFive"
          class="collapse bg-gray-light"
          [ngClass]="{ show: activeAccordionIndex === 4 }"
          aria-labelledby="accordionHeadingFive"
          data-bs-parent="#contentLayer">
          <div class="accordion-body">
            <ul>
              <li>
                Displays place polygon on the map, such as distribution centers
                and manufacturing facilities.
              </li>
              <li>
                Place information includes site polygon and truck entry/exit
                gates (where available).
              </li>
              <li>Includes points of interest icons.</li>
            </ul>
            <div class="panel-header bg-transparent mb-1">
              <h5>Gate Icons</h5>
            </div>
            <img
              src="assets/circle-outline-green.png"
              width="22"
              height="22"
              alt="" />Entrance Gate<br />
            <img
              src="assets/circle-outline-cyan.png"
              width="22"
              height="22"
              alt="" />Two-Way Gate<br />
            <img
              src="assets/circle-outline-red.png"
              width="22"
              height="22"
              alt="" />Exit Gate<br />
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <div class="accordion-header">
          <button
            class="accordion-button"
            id="accordionHeadingSix"
            [attr.aria-expanded]="activeAccordionIndex === 5 ? 'true' : 'false'"
            aria-controls="codeCollapseSix"
            role="button"
            (click)="license.poi && openLayer(5)"
            (keyup)="license.poi && openLayer(5)"
            [ngClass]="{
              unlicensed: !license.poi,
              collapsed: activeAccordionIndex !== 5,
            }"
            tabindex="0">
            <h4
              [ngClass]="{ disabled: !license.poi }"
              class="mb-0 accordion-title"
              id="collapsible-group-item-6">
              Points of Interest
            </h4>
            <div class="supporting-label">
              <app-tooltip [showTooltip]="!license.poi"></app-tooltip>
            </div>
          </button>
        </div>
        <div
          id="codeCollapseSix"
          class="collapse bg-gray-light"
          [ngClass]="{ show: activeAccordionIndex === 5 }"
          aria-labelledby="accordionHeadingSix"
          data-bs-parent="#contentLayer">
          <div class="accordion-body">
            <ul>
              <li>Display points of interest icons on the map.</li>
            </ul>
            <div class="panel-header bg-transparent mb-1">
              <h5>Example Place Icons</h5>
            </div>
            <img
              src="assets/poi_distribution_center.png"
              width="22"
              height="22"
              alt="" />Distribution Center<br />
            <img
              src="assets/poi_fuel.png"
              width="22"
              height="22"
              alt="" />Fuel<br />
            <img
              src="assets/poi_manufacturing_plant.png"
              width="22"
              height="22"
              alt="" />Manufacturing Plant<br />
            <img
              src="assets/poi_rest_area.png"
              width="22"
              height="22"
              alt="" />Rest Area<br />
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <div class="accordion-header">
          <button
            class="accordion-button"
            id="accordionHeadingSeven"
            [attr.aria-expanded]="activeAccordionIndex === 6 ? 'true' : 'false'"
            aria-controls="codeCollapseSeven"
            role="button"
            (click)="openLayer(6)"
            (keyup)="openLayer(6)"
            [ngClass]="{ collapsed: activeAccordionIndex !== 6 }"
            tabindex="0">
            <h4 class="mb-0 accordion-title" id="collapsible-group-item-7">
              3D Buildings
            </h4>
          </button>
        </div>
        <div
          id="codeCollapseSeven"
          class="collapse bg-gray-light"
          [ngClass]="{ show: activeAccordionIndex === 6 }"
          aria-labelledby="accordionHeadingSeven"
          data-bs-parent="#contentLayer">
          <div class="accordion-body">
            <ul>
              <li>Displays 3D buildings.</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <div class="accordion-header">
          <button
            class="accordion-button"
            id="accordionHeadingEight"
            [attr.aria-expanded]="activeAccordionIndex === 7 ? 'true' : 'false'"
            aria-controls="codeCollapseEight"
            role="button"
            (click)="license.traffic && openLayer(7)"
            (keyup)="license.traffic && openLayer(7)"
            [ngClass]="{
              unlicensed: !license.traffic,
              collapsed: activeAccordionIndex !== 7,
            }"
            tabindex="0">
            <h4
              [ngClass]="{ disabled: !license.traffic }"
              class="mb-0 accordion-title"
              id="collapsible-group-item-8">
              Traffic Incidents
            </h4>
            <div class="supporting-label">
              <app-tooltip [showTooltip]="!license.traffic"></app-tooltip>
            </div>
          </button>
        </div>
        <div
          id="codeCollapseEight"
          class="collapse bg-gray-light"
          [ngClass]="{ show: activeAccordionIndex === 7 }"
          aria-labelledby="accordionHeadingEight"
          data-bs-parent="#contentLayer">
          <div class="accordion-body">
            <ul>
              <li>Displays current traffic incidents.</li>
              <li>
                Click event can be added to layer to show incident information.
              </li>
              <li>Control can be added to layer to filter incident types.</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <div class="accordion-header">
          <button
            class="accordion-button"
            id="accordionHeadingNine"
            [attr.aria-expanded]="activeAccordionIndex === 8 ? 'true' : 'false'"
            aria-controls="codeCollapseNine"
            role="button"
            (click)="license.truckRestriction && openLayer(8)"
            (keyup)="license.truckRestriction && openLayer(8)"
            [ngClass]="{
              unlicensed: !license.truckRestriction,
              collapsed: activeAccordionIndex !== 8,
            }"
            tabindex="0">
            <h4
              [ngClass]="{ disabled: !license.truckRestriction }"
              class="mb-0 accordion-title"
              id="collapsible-group-item-9">
              Truck Restrictions
            </h4>
            <div class="supporting-label">
              <app-tooltip
                [showTooltip]="!license.truckRestriction"></app-tooltip>
            </div>
          </button>
        </div>
        <div
          id="codeCollapseNine"
          class="collapse bg-gray-light"
          [ngClass]="{ show: activeAccordionIndex === 8 }"
          aria-labelledby="accordionHeadingNine"
          data-bs-parent="#contentLayer">
          <div class="accordion-body">
            <ul>
              <li>Displays truck restrictions on the map.</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <div class="accordion-header">
          <button
            class="accordion-button"
            id="accordionHeadingTen"
            [attr.aria-expanded]="activeAccordionIndex === 9 ? 'true' : 'false'"
            aria-controls="codeCollapseTen"
            role="button"
            (click)="license.customData && openLayer(9)"
            (keyup)="license.customData && openLayer(9)"
            [ngClass]="{
              unlicensed: !license.customData,
              collapsed: activeAccordionIndex !== 9,
            }"
            tabindex="0">
            <h4
              [ngClass]="{ disabled: !license.customData }"
              class="mb-0 accordion-title"
              id="collapsible-group-item-10">
              Custom Content
            </h4>
            <div class="supporting-label">
              <app-tooltip [showTooltip]="!license.customData"></app-tooltip>
            </div>
          </button>
        </div>
        <div
          id="codeCollapseTen"
          class="collapse bg-gray-light"
          [ngClass]="{ show: activeAccordionIndex === 9 }"
          aria-labelledby="accordionHeadingTen"
          data-bs-parent="#contentLayer">
          <div class="accordion-body">
            <div *ngIf="isNA">
              <ul>
                <li>
                  Ability to plot custom data onto the map via geoJson objects.
                </li>
                <li>
                  Information for this example is comprised of a geojson source
                  that is broken down into 3 different custom content layers:
                </li>
                <ul>
                  <li>
                    <b>Fill Layer</b>: Creates the state boundary polygon of New
                    Jersey and sets the opacity.
                  </li>
                  <li>
                    <b>Line Layer</b>: Forms the outline around the New Jersey
                    polygon.
                  </li>
                  <li>
                    <b>Symbol Layer</b>: Adds the Trimble Maps logo to the map.
                  </li>
                </ul>
              </ul>
            </div>
            <div *ngIf="isEU">
              <ul>
                <li>
                  Ability to plot custom data onto the map via geoJson objects.
                </li>
                <li>
                  Information for this example is comprised of a geojson source
                  that is broken down into 3 different custom content layers:
                </li>
                <ul>
                  <li>
                    <b>Fill Layer</b>: Creates the country boundary polygon of
                    Great Britain and sets the opacity.
                  </li>
                  <li>
                    <b>Line Layer</b>: Forms the outline around the Great
                    Britain polygon.
                  </li>
                  <li>
                    <b>Symbol Layer</b>: Adds the Trimble Maps logo to the map.
                  </li>
                </ul>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
